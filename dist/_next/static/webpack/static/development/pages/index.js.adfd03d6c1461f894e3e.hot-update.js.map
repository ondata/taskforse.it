{"version":3,"file":"static/webpack/static/development/pages/index.js.adfd03d6c1461f894e3e.hot-update.js","sources":["webpack:///./src/config.js"],"sourcesContent":["import axios from 'axios'\n\nimport {\n    map,\n    filter,\n    groupBy,\n    values,\n    range,\n    find,\n    zipObject,\n} from 'lodash'\n\nconst GSHEET_PREFIX = \"https://spreadsheets.google.com/feeds/cells\"\nconst GSHEET_SUFFIX = \"public/full?alt=json\"\nconst GSHEET_ID = \"15LmCiYKg2cWzovAiqquhp_lYsaBSuGNau7suUkQddl8\"\nconst GSHEET_SHEET_META = 1\nconst GSHEET_SHEET_TASKFORSES = 2\nconst GSHEET_SHEET_MEMBERS = 3\nconst GSHEET_SHEET_RESOURCES = 4\n\nexport const CONTAINER_MAXWIDTH = \"sm\"\nexport const PRIMARY_COLOR = \"#fd1d59\"\n\nexport async function getMeta() {\n    return normalizeGSheetJSON(await axios.get(getGSheetUrl(GSHEET_SHEET_META)))\n}\n\nexport async function getTaskForses() {\n    return normalizeGSheetJSON(await axios.get(getGSheetUrl(GSHEET_SHEET_TASKFORSES)))\n}\n\nexport async function getTaskForse(id) {\n    return id ? find(\n        await getTaskForses(),\n        e => e[\"Id\"] === id\n    ) || {} : {}\n}\n\nexport async function getMembers() {\n    return normalizeGSheetJSON(await axios.get(getGSheetUrl(GSHEET_SHEET_MEMBERS)))\n}\n\nexport async function getMember(id) {\n    return id ? find(\n        await getMembers(),\n        e => e[\"Id\"] === id\n    ) || {} : {}\n}\n\nexport async function getMembersByTaskForse(id) {\n    return id ? filter(\n        await getMembers(),\n        e => e[\"Task forse\"] === id\n    ): []\n}\n\nexport async function getResources() {\n    return normalizeGSheetJSON(await axios.get(getGSheetUrl(GSHEET_SHEET_RESOURCES)))\n}\n\nexport async function getResource(id) {\n    return id ? find(\n        await getResources(),\n        e => e[\"Id\"] === id\n    ) || {} : {}\n}\n\nexport async function getResourcesByTaskForse(id) {\n    return id ? filter(\n        await getResources(),\n        e => e[\"Task forse\"] === id\n    ) : []\n}\n\nconst getGSheetUrl = sheet => `${GSHEET_PREFIX}/${GSHEET_ID}/${sheet}/${GSHEET_SUFFIX}`\n\nfunction normalizeGSheetJSON(response) {\n\n    const dataKeys = map(\n        filter(\n            response.data.feed.entry,\n            e => +e[\"gs$cell\"].row === 1\n        ),\n        e => +e[\"gs$cell\"][\"$t\"] || e[\"gs$cell\"][\"$t\"] || null\n    )\n\n    const dataValues = map(\n        values(\n            groupBy(\n                filter(\n                    response.data.feed.entry, \n                    e => +e[\"gs$cell\"].row > 1\n                ),\n                e => e[\"gs$cell\"].row\n            )\n        ),\n        row => map(\n            range(dataKeys.length),\n            col => {\n                const e = find(row, c => +c[\"gs$cell\"].col === col+1)\n                return e ? (+e[\"gs$cell\"][\"$t\"] || e[\"gs$cell\"][\"$t\"]) : null\n            }\n        )\n    )\n\n    return map(\n        dataValues,\n        v => zipObject(\n            dataKeys,\n            v\n        )\n    )\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAJA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AAAA;AACA;AAJA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AACA;AACA;AAEA;AAGA;AAAA;AAEA;AAAA;AAGA;AAKA;AAAA;AAEA;AAAA;AAGA;AAGA;AAAA;AAAA;AACA;AACA;AALA;AASA;AAEA;AAAA;AAMA;;;;A","sourceRoot":""}